document.addEventListener("DOMContentLoaded",()=>{let p=location.pathname,u=location.href,t=document.querySelector("h1")?.innerText||document.title,d=document.querySelector('meta[name="description"]')?.content||"",o=location.origin;(()=>{let c=location.pathname;c=c.replace(/index\.html$/,"");c=c.replace(/\.html$/,"");"/"!==c&&!c.endsWith("/")&&(c+="/");let h=o+c;h=h.replace(/\/{2,}/g,"/");let l=document.querySelector('link[rel="canonical"]')||document.createElement("link");l.rel="canonical",l.href=h,l.parentNode||document.head.appendChild(l)})();let trim=e=>((e=e.replace(/\s+/g," ").trim()).length>155?e.substring(0,152)+"...":e),desc=trim(d),g=[],add=e=>g.push(e);add({"@type":"WebSite",name:"FreePropertySG",url:"https://freepropertysg.com/"});add({"@type":"LocalBusiness",name:"FreePropertySG",url:"https://freepropertysg.com/",description:"FreePropertySG is Singapore’s 100% free property listing platform for HDB, condo and landed homes.",address:{"@type":"PostalAddress",addressCountry:"SG"}});if("/"!==p){let b=[],parts=p.replace(/index\.html$/,"").replace(/\.html$/,"").split("/").filter(Boolean),r="/";b.push({"@type":"ListItem",position:0,name:"Home",item:{"@type":"WebPage","@id":"https://freepropertysg.com/"}});parts.forEach((s,i)=>{r+=s+"/";let n=s.replace(/[-_]/g," ").replace(/\b\w/g,m=>m.toUpperCase());b.push({"@type":"ListItem",position:i+1,name:n,item:{"@type":"WebPage","@id":o+r}})});add({"@type":"BreadcrumbList",itemListElement:b})}("/"===p||"/index.html"===p)&&add({"@type":"WebPage",name:"FreePropertySG — Free Property Listings in Singapore",description:desc,url:u});("/about"===p||"/about/"===p||"/about.html"===p)&&add({"@type":"AboutPage",name:t,description:desc,url:u});("/listings"===p||"/listings/"===p||"/listings.html"===p)&&add({"@type":"CollectionPage",name:"All Properties — FreePropertySG",description:desc,url:u});("/blog"===p||"/blog/"===p)&&add({"@type":"CollectionPage",name:"FreePropertySG Blog",description:desc,url:u});p.startsWith("/blog/")&&add({"@type":"BlogPosting",headline:t,description:desc,author:"FreePropertySG",mainEntityOfPage:u,url:u});let fa=[...document.querySelectorAll(".faq-item")];fa.length>1&&add({"@type":"FAQPage",mainEntity:fa.map(x=>{let q=x.querySelector("strong")?.innerText,a=x.querySelector("p")?.innerText;return q&&a?{"@type":"Question",name:q,acceptedAnswer:{"@type":"Answer",text:a}}:null}).filter(Boolean)});g.some(x=>"WebPage"===x["@type"])||add({"@type":"WebPage",name:t,description:desc,url:u});let s=document.createElement("script");s.type="application/ld+json",s.textContent=JSON.stringify({"@context":"https://schema.org","@graph":g}),document.head.appendChild(s)});
